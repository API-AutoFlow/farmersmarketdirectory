{"$product":{"name":"API AutoFlow","version":"1.0.2"},"Data":[],"File":[],"Flow":[],"FlowTest":[],"Inbound":[{"id":"<1601490802058764000.0.4049359294.2744909831.232717>","meta":{},"value":{"name":"Farmers Market","port":1111,"tls":false,"type":"http server"}}],"InboundEndpoint":[{"id":"<1601490814451709000.0.4049359294.2744909830.231927>","meta":{"index":["inbound","<1601490802058764000.0.4049359294.2744909831.232717>"]},"value":{"default-test":"<1601490814451934000.0.4049359294.2744909830.231941>","methods":["GET"],"name":"get list","path":"/","serve-files":null,"type":"endpoint"}}],"InboundEndpointFlow":[{"id":"<1601490814451709000.0.4049359294.2744909830.231927>","meta":{"index":["inbound","<1601490802058764000.0.4049359294.2744909831.232717>"]},"value":[{"$action":"string/join","array":["https://search.ams.usda.gov/farmersmarkets/v1/data.svc/zipSearch?zip=",{"__LDATA__":["request","query","zip"]}],"output-location":{"__LDATA__":["url_market_list"]},"separator":""},{"$action":"communication/http-request","body":"","header":{},"method":"GET","mock-result":{"body":"","header":{},"status-code":200},"name":"Get market list","output-location":{"__LDATA__":["market_list"]},"query":{},"timeout":5000,"url":{"__LDATA__":["url_market_list"]},"use-mock-result":false},{"$action":"json/decode","json":{"__LDATA__":["market_list","body"]},"name":"Decode Market List JSON","output-location":{"__LDATA__":["market_list_decoded"]}},{"$action":"data/set","at-location":{"__LDATA__":["market_details"]},"name":"Create Empty Array","value":[]},{"$action":"iteration/for-each","array":{"__LDATA__":["market_list_decoded","results"]},"do":[{"$action":"string/join","array":["https://search.ams.usda.gov/farmersmarkets/v1/data.svc/mktDetail?id=",{"__LDATA__":["value","id"]}],"name":"Prep URL with Variable market ID","output-location":{"__LDATA__":["market_url"]},"separator":""},{"$action":"communication/http-request","body":"","header":{},"method":"GET","mock-result":{"body":"","header":{},"status-code":200},"name":"Get Market Details","output-location":{"__LDATA__":["market_info"]},"query":{},"timeout":5000,"url":{"__LDATA__":["market_url"]},"use-mock-result":false},{"$action":"json/decode","json":{"__LDATA__":["market_info","body"]},"name":"Decode Market Detail JSON","output-location":{"__LDATA__":["market_info_decoded"]}},{"$action":"array/insert-at","array":{"__LDATA__":["market_details"]},"index":-1,"name":"Insert Market Details in an Array","output-location":{"__LDATA__":["market_details"]},"value":{"address":{"__LDATA__":["market_info_decoded","marketdetails","Address"]},"name":{"__LDATA__":["value","marketname"]}}}],"index-location":{"__LDATA__":["index"]},"name":"Iterate over Market List","value-location":{"__LDATA__":["value"]}},{"$action":"data/set","at-location":{"__LDATA__":["response","body"]},"name":"Set to ResponseBody","value":{"__LDATA__":["market_details"]}}]}],"InboundEndpointTest":[{"id":"<1601490814451934000.0.4049359294.2744909830.231941>","meta":{"index":["inbound","<1601490802058764000.0.4049359294.2744909831.232717>","endpoint","<1601490814451709000.0.4049359294.2744909830.231927>"]},"value":{"name":"default-test-input","request":{"body":"","header":{},"path":{},"query":{"zip":"95070"}}}}],"Schema":[],"SchemaEntry":[],"Timer":[],"TimerFlow":[],"Variable":[]}